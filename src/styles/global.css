@import "tailwindcss";

@theme {
  --color-primary: #2AE7A8;
  --color-foreground: var(--color-green-600);
  --color-muted-foreground: var(--color-green-800);
  --color-loud-foreground: var(--color-green-400);
  --color-background: #111111;

  --font-console: "Press Start 2P", monospace;
  --font-console-narrow: "Handjet", sans-serif;

  --default-font-family: "Handjet", sans-serif;
  --text-base: 1.25rem;
  --text-base--line-height: calc(1.125 / 1);
  --text-lg: 1.375rem;
  --text-lg--line-height: calc(1.125 / 1);
  --font-weight-normal: 300;
  --font-weight-bold: 400;
  --tracking-normal: 0.05em;

  --font-display: "Press Start 2P", monospace;

  --glow-size-xs: 0.1375rem;
  --glow-size-sm: 0.25rem;
  --glow-size: 0.375rem;
  --glow-size-lg: 1rem;
}

html {
  @apply bg-background text-foreground text-base font-normal tracking-normal;
}

@utility fx-glow {
  filter: drop-shadow(0 0 var(--glow-size) var(--color-primary));
}

@utility fx-glow-* {
  filter: drop-shadow(0 0 --value(--glow-size-*) var(--color-primary));
}

@utility fx-box-glow {
  box-shadow: 0 0 --value(--glow-size) var(--color-primary);
}

@utility fx-box-glow-* {
  box-shadow: 0 0 --value(--glow-size-*) var(--color-primary);
}

@utility fx-pulse-glow {
  animation: pulse-glow 6s ease-in-out infinite;
}

@keyframes blink-animation {
  to {
    visibility: hidden;
  }
}

@keyframes crt-on {
  0% {
    transform: scale(1, 0.8) translate3d(0, 0, 0);
    -webkit-filter: brightness(30);
    filter: blur(0.75px) brightness(30);
    opacity: 1;
  }
  13.5% {
    transform: scale(1, 0.8) translate3d(0, 100%, 0);
  }
  13.6% {
    transform: scale(1, 0.8) translate3d(0, -100%, 0);
    opacity: 1;
  }
  19% {
    transform: scale(1.3, 0.6) translate3d(0, 100%, 0);
    -webkit-filter: brightness(30);
    filter: blur(0.75px) brightness(30);
    opacity: 0;
  }
  31% {
    transform: scale(1, 1) translate3d(0, 0, 0);
    -webkit-filter: contrast(0) brightness(0);
    filter: blur(0.75px) contrast(0) brightness(0);
    opacity: 0;
  }
  100% {
    transform: scale(1, 1) translate3d(0, 0, 0);
    -webkit-filter: contrast(1) brightness(1.2) saturate(1.3);
    filter: blur(0.75px) contrast(1) brightness(1.2) saturate(1.3);
    opacity: 1;
  }
}

@keyframes crt-off {
  0% {
    transform: scale(1, 1.3) translate3d(0, 0, 0);
    -webkit-filter: brightness(1);
    filter: brightness(1);
    opacity: 1;
  }
  60% {
    transform: scale(1.3, 0.001) translate3d(0, 0, 0);
    -webkit-filter: brightness(10);
    filter: brightness(10);
  }
  100% {
    animation-timing-function: cubic-bezier(0.755, 0.05, 0.855, 0.06);
    transform: scale(0, 0.0001) translate3d(0, 0, 0);
    -webkit-filter: brightness(50);
    filter: brightness(50);
  }
}

@keyframes gradient-animation {
  0% {
    background-position: 0% 0%;
  }
  100% {
    background-position: 0% 200%;
  }
}

@keyframes bounce-horizontal {
  0%, 100% {
    transform: translateX(0);
  }
  50% {
    transform: translateX(-8px);
  }
}

@keyframes pulse-glow {
  0%, 67% {
    filter: drop-shadow(0 0 var(--glow-size-sm) var(--color-primary));
  }
  83% {
    filter: drop-shadow(0 0 var(--glow-size-lg) var(--color-primary));
  }
  100% {
    filter: drop-shadow(0 0 var(--glow-size-sm) var(--color-primary));
  }
}

@keyframes fade-in-up {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes fade-in-down {
  from { opacity: 0; transform: translateY(-10px); }
  to { opacity: 1; transform: translateY(0); }
}

@keyframes logo-fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes logo-scale-down {
  from { transform: scale(2) translateY(50%); }
  to { transform: scale(1) translateY(0); }
}

@keyframes scale-in {
  from { opacity: 0; transform: scale(0.5); }
  to { opacity: 1; transform: scale(1); }
}

@keyframes slide-in-from-right {
  from { opacity: 0; transform: translateX(25px); }
  to { opacity: 1; transform: translateX(0); }
}

@keyframes slide-in-from-left {
  from { opacity: 0; transform: translateX(-25px); }
  to { opacity: 1; transform: translateX(0); }
}

.crt {
  background: linear-gradient(to top, #000000, #000000, #222222, #222222);
  background-size: cover;
  background-size: 100% 3px;
  filter: blur(0.75px);

  text-shadow: 0 0 10px #00ff0066;

  &.display-on {
    animation: crt-on 0.5s;
  }

  &.display-off {
    animation: crt-off 0.5s;
  }
}

.title {
  background: linear-gradient(to bottom, var(--color-green-600), var(--color-green-400), var(--color-green-600));
  background-size: 100% 200%;
  background-clip: text;
  -webkit-text-fill-color: transparent;
  animation: gradient-animation 2s linear infinite;
  filter: drop-shadow(0 4px 0 #ffffff15);
}

.cursor {
  display: inline-block;
  margin-left: 2px;
  vertical-align: baseline;

  &:before {
    content: "\258E"
  }
}

.cursor.blink-active {
  animation: blink-animation 1s steps(2, start) infinite;
}

.cursor.hidden {
  visibility: hidden;
}

/* Ultra-simple pointer component */
.pointer {
  display: inline-block;
  margin-right: 0.5rem;
  transition: opacity 0.2s ease-in-out;

  &.pointer-left::before { content: '<'; }
  &.pointer-right::before { content: '>'; }

  /* Auto pointers: animate on focus, stop on hover */
  &.pointer-animated {
    animation: bounce-horizontal 1s ease-in-out infinite; 

    :hover > & {
      animation: none;
    }
  }

  /* Always animate */
  &.pointer-animate-always { 
    animation: bounce-horizontal 1s ease-in-out infinite; 
  }
}


.timeline-content {
  position: relative;
  padding-left: 2rem; /* Spacing for the marker */

  /* The circular green marker for each timeline section */
  &::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0.5rem; /* Vertically align with the first line of text */
    width: 10px;
    height: 10px;
    border: 1px solid var(--color-loud-foreground);
    border-radius: 9999px;
  }

  /* Style content within timeline sections */
  & h3 {
    color: var(--color-loud-foreground);
    font-size: 1.125rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  & ul {
    margin-block: 1rem;
    padding-left: 1.5rem;
  }

  & li {
    list-style: disc;
    margin-bottom: 0.25rem;
  }

  & strong {
    color: var(--color-loud-foreground);
    font-weight: bold;
  }

  & em {
    color: var(--color-loud-foreground);
    font-style: italic;
  }

  & a {
    color: var(--color-loud-foreground);
    text-decoration: underline;
    text-underline-offset: 2px;

    &:hover {
      color: var(--color-loud-foreground);
      filter: drop-shadow(0 0 0.375rem var(--color-primary));
    }
  }

}

/* --- Social Media Icons Animation Rules --- */
/* Initial hidden state for social media icons (homepage only) */
#discord-link,
#twitter-link,
#github-link {
  opacity: 0;
}

/* Show social media icons on non-homepage pages (when hero-banner-container is not present) */
body:not(:has(#hero-banner-container)) #discord-link,
body:not(:has(#hero-banner-container)) #twitter-link,
body:not(:has(#hero-banner-container)) #github-link {
  opacity: 1;
}

/* Animation skip state - show immediately */
#hero-banner-container.animations-skipped #discord-link,
#hero-banner-container.animations-skipped #twitter-link,
#hero-banner-container.animations-skipped #github-link {
  opacity: 1;
  transform: none;
}

/* Animation trigger - show with timing */
#hero-banner-container.animations-started #twitter-link {
  animation: fade-in-down 0.5s ease-out 0.5s forwards;
}

#hero-banner-container.animations-started #discord-link {
  animation: fade-in-down 0.5s ease-out 0.7s forwards;
}

#hero-banner-container.animations-started #github-link {
  animation: fade-in-down 0.5s ease-out 0.9s forwards;
}
