---
interface Props {
  title: string;
  date?: string;
  isLast?: boolean;
}

const { title, date, isLast = false } = Astro.props;
---

<div
  class:list={[
    "relative grid grid-cols-1 lg:grid-cols-[1fr_2fr] gap-8 items-start",
    { "mb-16": !isLast },
  ]}
>
  <div class="lg:text-right lg:pr-8">
    <div class="text-muted-foreground mb-2">{date}</div>
    <h2 class="font-display text-loud-foreground font-bold">{title}</h2>
  </div>
  <div class="timeline-content">
    <slot />
  </div>
</div>

<style>
  /* The circular green marker for each timeline section */
  .timeline-content {
    position: relative;
    padding-left: 2rem; /* Spacing for the marker */
  }

  .timeline-content::before {
    content: "";
    position: absolute;
    left: 0;
    top: 0.5rem; /* Vertically align with the first line of text */
    width: 10px;
    height: 10px;
    border: 1px solid var(--color-primary);
    border-radius: 9999px;
  }

  /* Style content within timeline sections */
  .timeline-content :global(h3) {
    color: var(--color-primary);
    font-size: 1.125rem;
    font-weight: bold;
    margin-bottom: 0.5rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .timeline-content :global(p) {
    color: var(--color-muted-foreground);
    line-height: 1.6;
    margin-bottom: 1rem;
  }

  .timeline-content :global(ul) {
    color: var(--color-muted-foreground);
    margin-bottom: 1rem;
    padding-left: 1.5rem;
  }

  .timeline-content :global(li) {
    list-style: disc;
    margin-bottom: 0.25rem;
  }

  .timeline-content :global(strong) {
    color: var(--color-loud-foreground);
    font-weight: bold;
  }

  .timeline-content :global(em) {
    color: var(--color-loud-foreground);
    font-style: italic;
  }

  .timeline-content :global(a) {
    color: var(--color-primary);
    text-decoration: underline;
    text-underline-offset: 2px;
  }

  .timeline-content :global(a:hover) {
    color: var(--color-loud-foreground);
    filter: drop-shadow(0 0 0.375rem var(--color-primary));
  }

  /* Add spacing between multiple child elements */
  .timeline-content :global(> *:not(:last-child)) {
    margin-bottom: 2rem;
  }
</style>