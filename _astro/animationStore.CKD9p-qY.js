let i=[],a=0;const c=4;let p=e=>{let l=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},lc:0,listen(n){return t.lc=l.push(n),()=>{for(let s=a+c;s<i.length;)i[s]===n?i.splice(s,c):s+=c;let o=l.indexOf(n);~o&&(l.splice(o,1),--t.lc||t.off())}},notify(n,o){let s=!i.length;for(let f of l)i.push(f,t.value,n,o);if(s){for(a=0;a<i.length;a+=c)i[a](i[a+1],i[a+2],i[a+3]);i.length=0}},off(){},set(n){let o=t.value;o!==n&&(t.value=n,t.notify(o))},subscribe(n){let o=t.listen(n);return n(t.value),o},value:e};return t};var h=(e=>(e.BOOT_SEQUENCE="boot-sequence",e.MAIN_CONTENT="main-content",e))(h||{});const u=()=>{let e="boot-sequence";if(typeof window<"u"){const l=window.location.pathname==="/"||window.location.pathname==="",t=new URLSearchParams(window.location.search).get("intro")==="false";l?t?e="main-content":e="boot-sequence":e="main-content"}return{uiState:e}},r=p(u()),m={initializeFromURL(){const e=u();r.set(e)},completeBootSequence(){r.set({uiState:"main-content"})},skipToMainContent(){const e=new URLSearchParams(window.location.search);e.set("intro","false"),window.history.pushState({},"",`${window.location.pathname}?${e.toString()}`),r.set({uiState:"main-content"})},handleNavigation(){this.initializeFromURL()}};export{r as $,h as U,m as a};
