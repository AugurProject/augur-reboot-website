let i=[],s=0;const c=4;let f=e=>{let l=[],t={get(){return t.lc||t.listen(()=>{})(),t.value},lc:0,listen(n){return t.lc=l.push(n),()=>{for(let o=s+c;o<i.length;)i[o]===n?i.splice(o,c):o+=c;let a=l.indexOf(n);~a&&(l.splice(a,1),--t.lc||t.off())}},notify(n,a){let o=!i.length;for(let h of l)i.push(h,t.value,n,a);if(o){for(s=0;s<i.length;s+=c)i[s](i[s+1],i[s+2],i[s+3]);i.length=0}},off(){},set(n){let a=t.value;a!==n&&(t.value=n,t.notify(a))},subscribe(n){let a=t.listen(n);return n(t.value),a},value:e};return t};var m=(e=>(e.BOOT_SEQUENCE="boot-sequence",e.MAIN_CONTENT="main-content",e))(m||{});const u=()=>{let e="boot-sequence";if(typeof window<"u"){const t="/".endsWith("/")?"/":"//",a=(window.location.pathname.endsWith("/")?window.location.pathname:window.location.pathname+"/")===t,o=new URLSearchParams(window.location.search).get("intro")==="false";a?o?e="main-content":e="boot-sequence":e="main-content"}return{uiState:e}},r=f(u()),d={initializeFromURL(){const e=u();r.set(e)},completeBootSequence(){r.set({uiState:"main-content"})},skipToMainContent(){const e=new URLSearchParams(window.location.search);e.set("intro","false"),window.history.pushState({},"",`${window.location.pathname}?${e.toString()}`),r.set({uiState:"main-content"})},handleNavigation(){this.initializeFromURL()}};export{r as $,m as U,d as a};
