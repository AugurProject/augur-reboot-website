import{j as c}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.DhRyc5x2.js";import{U as T,$ as w,a as h}from"./animationStore.DtBjNzP0.js";import{c as R,a as g,B as y}from"./Button.CFsdHKjn.js";function I(e,t,n){let r=new Set(t).add(void 0);return e.listen((o,s,a)=>{r.has(a)&&n(o,s,a)})}let E=(e,t)=>n=>{e.current!==n&&(e.current=n,t())};function C(e,{keys:t,deps:n=[e,t]}={}){let r=i.useRef();r.current=e.get();let o=i.useCallback(a=>(E(r,a)(e.value),t?.length>0?I(e,t,E(r,a)):e.listen(E(r,a))),n),s=()=>r.current;return i.useSyncExternalStore(o,s,s)}const j=({children:e,isPoweredUp:t=!0})=>{const n=t?"display-on":"display-off";return c.jsx("div",{className:R("crt fixed inset-0 w-screen h-screen z-30 p-10",n),children:e})},N=({segments:e,defaultTypingSpeed:t=60,onComplete:n})=>{const[r,o]=i.useState(""),[s,a]=i.useState(0),[d,p]=i.useState(0),f=i.useRef(null);return i.useEffect(()=>{if(s<e.length){const m=e[s],l=m.value,S=m.speed||t;if(d<l.length){const u=setTimeout(()=>{o(x=>x+l[d]),p(x=>x+1)},S);return()=>clearTimeout(u)}else a(u=>u+1),p(0)}else f.current&&f.current.classList.add("blink-active"),n&&n()},[s,d,e,t,n]),c.jsxs("span",{className:"typewriter-text",children:[r,c.jsx("span",{ref:f,className:"cursor"})]})},v=({sentences:e,defaultTypingSpeed:t=60,delayBetweenSentences:n=300,holdDuration:r=2500,onSequenceComplete:o})=>{const[s,a]=i.useState(0),[d,p]=i.useState(!0),f=l=>{const S=l.split(/(\.\.\.)/);return S.length>1?S.filter(u=>u).map(u=>u==="..."?{value:u,speed:t*12}:{value:u,speed:t}):[{value:l,speed:t}]},m=()=>{setTimeout(()=>{p(!1),setTimeout(()=>{a(l=>l+1),p(!0)},n)},r)};return i.useEffect(()=>{s>=e.length&&o&&o()},[s,e.length,o]),s>=e.length?null:c.jsx("span",{className:"uppercase",children:d&&c.jsx(N,{segments:f(e[s]),defaultTypingSpeed:t,onComplete:m})})},O=({animated:e,direction:t="right",className:n})=>c.jsx("span",{className:g("pointer",`pointer-${t}`,e==="auto"&&"pointer-animated",e==="always"&&"pointer-animate-always",n)}),U=["","RESEARCH AND DEVELOPMENT HAS RETURNED TO ETHEREUM'S FIRST ICO","PERFORMING SYSTEM CHECKS... UPDATE REQUIRED","AUGUR REBOOT BEGINS"],B=()=>{const e=C(w),[t,n]=i.useState(!0),r=()=>{setTimeout(()=>{n(!1),setTimeout(()=>{n(!0),setTimeout(()=>{h.completeBootSequence()},500)},200)},1e3)},o=()=>{h.skipToMainContent()};return i.useEffect(()=>{const s=a=>{a.key==="Escape"&&o()};return window.addEventListener("keydown",s),()=>{window.removeEventListener("keydown",s)}},[]),e.uiState!==T.BOOT_SEQUENCE?null:c.jsxs(j,{isPoweredUp:t,children:[c.jsxs(y,{onClick:o,variant:"link",size:"lg",className:"fixed top-8 right-10 z-50 text-muted-foreground hover:no-underline",children:[c.jsx(O,{animated:"auto",direction:"right"}),"SKIP INTRO (ESC)"]}),c.jsx("div",{className:"flex items-center justify-center h-screen uppercase text-foreground text-2xl",children:c.jsx(v,{sentences:U,defaultTypingSpeed:40,onSequenceComplete:r})})]})};export{B as default};
